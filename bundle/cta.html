<nav id="form-wrapper">
  <div id="form-spacer"></div>
  <form id="home-screen-cta">
    <div style="width:102px"></div>
    <fieldset>
      <legend id="legend">Que souhaitez-vous faire ?</legend>
      <select id="cta" type="select" name="cta">
        <option value=""></option>
        <option value="papeterie">Imprimer de beaux faire-part</option>
        <option value="set-design">Mettre en scène mon événement</option>
      </select>
      <button type="button" form="home-screen-cta" onclick="ontoSelection()">c'est parti !</button>
    </fieldset>
  </form>
</nav>
<script>
  const legend = document.querySelector('#home-screen-cta legend')
  const button = document.querySelector('#home-screen-cta button')
  const select = document.querySelector('#home-screen-cta select')
  let selectedOption = select.value
  select.addEventListener('change', () => {
    selectedOption = select.value
    if (selectedOption.length > 0) {
      button.classList.add('focused-2')
    } else if (selectedOption.length === 0) {
      button.classList.remove('focused-2')
    }
  })
  const ontoSelection = () => {
    if (selectedOption.length > 0) {
      window.open(`./${selectedOption}/`, "_self")
    } else {
      return
    }
  }
  const focusSelect = () => {
    select.addEventListener('focus', () => {
      legend.classList.add('focused')
    })
    select.addEventListener('blur', () => {
      legend.classList.remove('focused')
      select.options[0].selected = true
      if (button.classList.contains('focused-2')) {
        button.classList.remove('focused-2')
      } else {
        return
      }
    })
  }
  focusSelect()
</script>